from ... import options as opts
from ... import types
from ...charts.chart import RectChart
from ...globals import ChartType

# 涟漪型散列点
class EffectScatter(RectChart):
    """
    <<< Scatter plots with ripple effects animation >>>

    Use animation effects to visually highlight designated data set.
    """

    def add_yaxis(
        self,

            # 系列名称，用于 tooltip 的显示，legend 的图例筛选。
        series_name: str,

            # 系列数据
        y_axis: types.Sequence,
        *,

            # 是否选中图例
        is_selected: bool = True,

            # 使用的 x 轴的 index，在单个图表实例中存在多个 x 轴的时候有用。
        xaxis_index: types.Optional[types.Numeric] = None,

            # 使用的  轴的 index，在单个图表实例中存在多个 y 轴的时候有用。
        yaxis_index: types.Optional[types.Numeric] = None,

            # 系列 label 颜色
        color: types.Optional[str] = None,

            # 标记图形形状
        symbol: types.Optional[str] = None,

            # 标记的大小
        symbol_size: types.Numeric = 10,

            # 标签配置项，参考 `series_options.LabelOpts`
        label_opts: types.Label = opts.LabelOpts(),

            # 涟漪特效配置项，参考 `series_options.EffectOpts`
        effect_opts: types.Effect = opts.EffectOpts(),

            # 提示框组件配置项，参考 `series_options.TooltipOpts`
        tooltip_opts: types.Tooltip = None,

            # 图元样式配置项，参考 `series_options.ItemStyleOpts`
        itemstyle_opts: types.ItemStyle = None,
    ):
        self._append_color(color)
        self._append_legend(series_name, is_selected)
        self.options.get("series").append(
            {
                "type": ChartType.EFFECT_SCATTER,
                "name": series_name,
                "xAxisIndex": xaxis_index,
                "yAxisIndex": yaxis_index,
                "showEffectOn": "render",
                "rippleEffect": effect_opts,
                "symbol": symbol,
                "symbolSize": symbol_size,
                "data": [list(z) for z in zip(self._xaxis_data, y_axis)],
                "label": label_opts,
                "tooltip": tooltip_opts,
                "itemStyle": itemstyle_opts,
            }
        )
        return self
